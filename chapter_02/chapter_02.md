<a id="top"></a> 

### [⬅️ README][readme]
## [Глава 1. Объекты, функции, типы и указатели](#top)
Проекты выполнены в операционной системе Ubuntu (поверх WSL 2).

По книге **Роберт С. Сикорд - Эффективный С. Профессиональное программирование**.


---
<a id="content"></a> 

### [Содержание](#top)
- ### [Объекты, функции, типы и указатели](#section_01)
- ### [Объявление переменных](#section_02)
- ### [Область видимость](#section_03) 
- ### [Срок хранения](#section_04) 


---
<a id="section_01"></a> 

### [Объекты, функции, типы и указатели](#top)
***Объект*** — это хранилище, в котором можно представлять значения. ***В стандарте C (ISO/IEC 9899:2018) объектом называется*** *"область хранилища данных в среде выполнения, содержимое которого может представлять значения"* с примечанием: *"при обращении к объекту можно считать, что он обладает определенным типом"*. Один из примеров объекта — переменная.


***Переменные*** имеют ***объявленный тип***, который говорит о том, какого рода объект представляет его значение. Например, объект типа ***int*** содержит целочисленное значение. Важность типа объясняется тем, что набор битов, представляющий объект одного типа, скорее всего, будет иметь другое значение, если его интерпретировать как объект другого типа. Например, в ***IEEE 754*** (стандарт IEEE для арифметических операций с плавающей запятой) *число 1 представлено как 0x3f800000* (IEEE 754–2008). Но если интерпретировать тот же набор битов *как целое число, то вместо 1 получится значение 1 065 353 216*.


***Функции*** не являются объектами, но тоже имеют тип. Тип функции характеризуется как ее возвращаемым значением, так и числом и типами ее параметров.


В C есть ***указатели***, которые можно считать ***адресами — областями памяти***, в которых хранятся объекты или функции. Тип указателя, основанный на типе функции или объекта, называется ***ссылочным типом***. Указатель, имеющий ссылочный тип T, называют ***указателем на T***.


***Объекты и функции*** — это разные вещи, и потому ***объектные указатели отличаются от функциональных и их нельзя использовать как взаимозаменяемые***.


---
<a id="section_02"></a> 

## [Объявление переменных](#top)
***Идентификатор*** — наименование, по которому можно обращаться к переменной.


***У каждого объекта есть срок хранения***, который определяет его ***время жизни (lifetime)*** — период выполнения программы, на протяжении которого этот объект существует, где-то хранится, имеет постоянный адрес и сохраняет последнее присвоенное ему значение. К объектам нельзя 
обращаться вне данного периода


***Локальные переменные*** имеют ***автоматический срок хранения (storage duration)***, то есть они существуют, пока поток выполнения не покинет блок, в котором они определены.


***Параметры*** - это объекты, которые объявляются вместе с функцией и получают значения при входе в нее.


***Аргументы*** - это выражения, разделяемые запятыми, которые указываются в выражении вызова функции.


***В языке C передача аргументов при вызове происходит по значению***, т.е. когда вы предоставляете функции аргумент, его значение копируется в отдельную переменную, доступную для использования внутри этой функции. 


***Унарная операция * в выражениях внутри функции разыменовывает указатель на объект*** - берет значение по адресу.


***Унарная операция &*** используется для ***взятия адреса***: она генерирует указатель на свой операнд. 


***Передача аргументов по ссылке:*** сначала генерируются адреса объектов, которые передаются по значению, а затем они разыменовываются для доступа к исходным объектам.


---
<a id="section_03"></a> 

## [Область видимость](#top)
Объекты, функции, макросы и другие идентификаторы языка C имеют ***область видимости***, которая определяет, где к ним можно обращаться. В языке C область видимости может быть следующих типов:
- ***на уровне файла:*** охватывает весь файл, в котором он находится, а также любые другие файлы, подключенные после его объявления (например, если объявление сделано за пределами 
какого-либо блока или списка параметров);
- ***на уровне блока:*** объявленный идентифиатор доступен только внутри этого блока (например, если объявление происходит внутри блока или списка параметров);
- ***на уровне прототипа:*** область видимости ограниченая ее объявлением (то есть прототипом) (например, если объявление происходит внутри списка параметров прототипа 
функции но не в ее теле);
- ***на уровне функции:*** охватывает определение идентификатора между открывающей ({) и закрывающей (}) скобками. Единственным видом идентификаторов, который имеет такую область видимости, являются ***метки*** — идентификаторы, завершающиеся двоеточием и определяющие оператор в функции, к которому может перейти управление


***Области видимости*** могут быть ***вложенными*** и находиться как ***внутри***, так и ***снаружи*** относительно других областей видимости. ***Внутренняя область имеет доступ к наружной, но не наоборот***. 


Если объявить один и тот же идентификатор как во внутренней, так и в наружной областях видимости, то ***внутренняя версия перекрывает наружную, имея более высокий приоритет***. В данном случае имя идентификатора будет ссылаться на объект во внутренней области видимости; объект из наружной области скрывается, и на него нельзя сослаться по имени. 


---
<a id="section_04"></a> 

## [Срок хранения](#top)
***Объекты имеют срок хранения***, который определяет их ***время жизни***. В целом сроки хранения бывают 4-х видов: 
- автоматические;
- статические; 
- потоковые;
- выделенные. 


***Объекты с автоматическим сроком хранения*** объявляются внутри блока или в качестве параметров функции. Их время жизни начинается в момент выполнения блока, в котором они объявлены, и заканчивается при его завершении. Если блок вызывается рекурсивно, то при каждом вызове создается новый объект с собственным сроком хранения.


❗***Область видимости*** и ***время жизни*** — совершенно разные понятия. Первое относится к идентификаторам, а второе — к объектам. ***Областью видимости идентификатора*** является участок кода, в котором к объекту, обозначенному этим идентификатором, можно получить доступ по его имени. ***Время жизни объекта*** — это период, на протяжении которого он существует.


Объекты, объявленные на уровне файла, имеют ***статический срок хранения***. Их время жизни охватывает весь период выполнения программы, а значения, которые в них хранятся, инициализируются еще до ее запуска. Можно объявить переменную со статическим сроком хранения внутри блочной области видимости, используя спецификатор класса хранения ***static***.


❗***При разработке ПО рекомендуется как можно сильнее ограничивать область видимости объектов.***


Статические объекты должны инициализироваться с помощью константного значения, а не переменной:


```c
int *func(int i) 
{
  const int j = i; // правильно
  static int k = j; // ошибка
  return &k;
}
```


***К константным значениям*** относятся константы-литералы (например, `1`, `'a'` или `0xFF`), члены enum и результаты работы операций, таких как alignof или sizeof, но не объекты со спецификатором const.


***`Потоковый срок хранения`*** используется в конкурентном программировании. 


***`Динамический срок хранения`*** относится к динамически выделяемой памяти.




---
[readme]: ../README.md